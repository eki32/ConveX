/* ==========================================================================
   ESTILOS GENERALES Y CONTENEDOR
   ========================================================================== */
.calendario-container {
  max-width: 1600px;
  margin: 0 auto;
  padding: 1.5rem;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.calendario-header {
  text-align: center;
  margin-bottom: 2rem;
}

.calendario-header h2 {
  color: #2c3e50;
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
}

.subtitulo {
  color: #7f8c8d;
  font-size: 1rem;
  margin: 0;
}

/* ==========================================================================
   BOTONES Y ACCIONES
   ========================================================================== */
.acciones-rapidas {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-bottom: 2rem;
  flex-wrap: wrap;
}

.acciones-rapidas button {
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
.btn-secondary { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; }
.btn-outline-danger { background: white; color: #e74c3c; border: 2px solid #e74c3c; }

.btn-primary:hover, .btn-secondary:hover, .btn-outline-danger:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* ==========================================================================
   RESUMEN Y LEYENDA
   ========================================================================== */
.resumen-anual {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.resumen-card {
  background: white;
  padding: 1.5rem;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  text-align: center;
  transition: all 0.3s ease;
}

.resumen-card.destacado {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  animation: pulse 2s infinite;
}

.resumen-numero { font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem; }
.resumen-numero.festivo { color: #e74c3c; }
.resumen-numero.convenio { color: #27ae60; }
.resumen-numero.laborable { color: #3498db; }
.resumen-numero.total { color: white; }

.leyenda {
  display: flex;
  justify-content: center;
  gap: 2rem;
  margin-bottom: 2rem;
  flex-wrap: wrap;
  padding: 1rem;
  background: white;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.leyenda-item { display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; }
.muestra { width: 24px; height: 24px; border-radius: 6px; }
.muestra.dia-festivo { background: #ffe5e5; border: 2px solid #e74c3c; }
.muestra.dia-convenio { background: #eafaf1; border: 2px solid #27ae60; }
.muestra.dia-fin-semana { background: #f0f0f0; border: 2px solid #95a5a6; }
.muestra.dia-laborable { background: #ebf5fb; border: 2px solid #3498db; }

/* ==========================================================================
   GRID DE MESES Y CARDS
   ========================================================================== */
.meses-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
  margin-bottom: 2rem;
}

.mes-card {
  background: white;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  height: 550px;
  animation: fadeIn 0.5s ease-out;
}

.mes-header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.calendario-mes { padding: 1rem; flex: 1; display: flex; flex-direction: column; }
.dias-semana, .dias-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 4px; }
.dia-semana-header { text-align: center; font-weight: 600; font-size: 0.75rem; color: #7f8c8d; padding: 0.5rem 0; text-transform: uppercase; }

/* ==========================================================================
   CELDAS DE DÍAS (LÓGICA DE DISEÑO)
   ========================================================================== */
.dias-grid > div {
  min-height: 60px;
  border-radius: 6px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  position: relative;
  padding: 4px;
  transition: all 0.2s ease;
  -webkit-user-select: none;
  user-select: none;
}

.numero-dia {
  font-weight: 700;
  font-size: 0.85rem;
  display: flex;
  justify-content: space-between;
  width: 100%;
  align-items: center;
  margin-bottom: 4px;
}

.indicador-festivo, .indicador-convenio, .indicador-vacaciones, .indicador-baja {
  position: static !important;
  font-weight: bold;
}

.indicador-festivo { color: #e74c3c; font-size: 0.9rem; }

.indicador-convenio {
  color: #27ae60;
  background: white;
  width: 18px;
  height: 18px;
  min-width: 18px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.7rem;
  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.dia-vacio { background: transparent; pointer-events: none; }
.dia-festivo { background: #ffe5e5; border: 2px solid #e74c3c; color: #c0392b; }
.dia-convenio { background: #eafaf1; border: 2px solid #27ae60; color: #1e8449; }
.dia-fin-semana { background: #f0f0f0; border: 2px solid #bdc3c7; color: #7f8c8d; }
.dia-laborable { background: #ebf5fb; border: 2px solid #3498db; color: #2980b9; cursor: pointer; }
.dia-laborable:active { background: #bdd6ee; transform: scale(0.97); }

.dia-vacaciones { background: linear-gradient(135deg, #aed6f1 0%, #85c1e9 100%) !important; border: 2px solid #3498db !important; color: #1b4f72 !important; }
.dia-baja { background: linear-gradient(135deg, #fef5e7 0%, #f8c471 100%) !important; border: 2px solid #e67e22 !important; color: #a04000 !important; animation: pulseBaja 0.3s ease-in-out; }

/* ==========================================================================
   INPUTS DE HORAS (SIN SUBIDOR/BAJADOR)
   ========================================================================== */
.input-horas {
  margin-top: auto;
  border: 2px solid #3498db;
  width: 100%;
  max-width: 55px;
  padding: 3px;
  border-radius: 6px;
  text-align: center;
  font-weight: 700;
  font-size: 0.85rem;
  background: white;
  -webkit-user-select: text;
  user-select: text;
  /* Eliminar flechas en Chrome, Safari, Edge, Opera */
  -webkit-appearance: none;
  margin: 0;
}

/* Eliminar flechas en Firefox */
.input-horas[type=number] {
  -moz-appearance: textfield;
}

/* Eliminar flechas (extra check) */
.input-horas::-webkit-outer-spin-button,
.input-horas::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.horas-bloqueadas { display: block; font-size: 11px; font-weight: 600; margin-top: auto; text-align: center; }

/* ==========================================================================
   MEDIA QUERIES (RESPONSIVE)
   ========================================================================== */
@media (max-width: 1400px) { .meses-grid { grid-template-columns: repeat(2, 1fr); } }

@media (max-width: 768px) {
  .meses-grid { grid-template-columns: 1fr; }
  .resumen-anual { grid-template-columns: repeat(2, 1fr); }
  .calendario-header h2 { font-size: 1.5rem; }
}

@media (min-width: 481px) and (max-width: 1024px) {
  .meses-grid { gap: 0.75rem; }
  .mes-card { height: auto; min-height: 480px; }
  .dias-grid > div { min-height: 50px; padding: 2px !important; }
  .input-horas { max-width: 45px; height: 25px; font-size: 0.8rem; }
}

@media (max-width: 480px) {
  .calendario-container { padding: 0.5rem; }
  .resumen-anual { grid-template-columns: 1fr; }
  .mes-card { min-height: 450px; height: auto; }
  .calendario-mes { padding: 0.5rem; }
  .dias-grid > div { min-height: 50px; padding: 2px 1px; }
  .numero-dia { font-size: 0.75rem; }
  .input-horas { max-width: 42px; height: 22px; font-size: 0.7rem; }
  .indicador-convenio { width: 14px; height: 14px; min-width: 14px; font-size: 0.55rem; }
  .indicador-festivo { font-size: 0.8rem !important; }
}

/* ==========================================================================
   ANIMACIONES
   ========================================================================== */
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
@keyframes pulseBaja { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }